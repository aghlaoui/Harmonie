!function(){var a={311:function(e){"use strict";e.exports=jQuery}},i={};function o(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},a[e](t,t.exports,o)),t.exports}var f;(f=o(311))(document).ready(function(){"use strict";function a(){f(".qty-product-cover").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:".qty-nav-thumb"}),f(".qty-nav-thumb").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".qty-product-cover",dots:!1,arrows:!0,focusOnSelect:!0,responsive:[{breakpoint:479,settings:{slidesToScroll:1,slidesToShow:2}}]})}f("body").on("click",".add-to-cart",function(){var e=f(this),i=e.parents().parents().children(".image").find(".main-image").attr("src"),o=e.parents().parents().parents().children(".ec-pro-content").children("h5").children("a").html(),s=e.parents().parents().parents().children(".ec-pro-content").children(".ec-price").children(".new-price").html();"simple"==e.data("type")&&f.ajax({url:harmoniedata.root_url+"/wp-json/cocart/v2/cart/add-item",data:{id:e.data("id"),quantity:"1"},type:"POST",success:e=>{var t,a=e.items[e.items.length-1].item_key;a=a,f(".ec-cart-float").fadeIn(),t=f(".cart-count-lable").html(),t++,f(".cart-count-lable").html(t),f(".emp-cart-msg").parent().remove(),setTimeout(function(){f(".ec-cart-float").fadeOut()},5e3),t='<li><a href="product-left-sidebar.html" class="sidekka_pro_img"><img src="'+i+'" alt="product"></a><div class="ec-pro-content"><a href="product-left-sidebar.html" class="cart_pro_title">'+o+'</a><span class="cart-price"><span>'+s+'</span> x <p class="qty" style="display: inline-flex;">1</p></span><div class="qty-plus-minus"><div class="dec ec_qtybtn">-</div><input class="qty-input" type="text" name="ec_qtybtn" value="1"><div class="inc ec_qtybtn">+</div></div><a href="javascript:void(0)" class="remove" data-key="'+a+'">×</a></div></li>',f(".eccart-pro-items").append(t),a=f(".cart-sub-total .primary-color").text(),t=parseFloat(a.split(" ")[0])+parseFloat(s),f(".cart-sub-total .primary-color").text(t.toFixed(2)+" MAD"),console.log(e)},error:e=>{console.log(e)}})}),a();var e=f(".ec-pro-color, .ec-product-tab, .shop-pro-inner, .ec-new-product, .ec-releted-product, .ec-checkout-pro").find(".ec-opt-swatch");function t(e){e.each(function(){var e=f(this),s=e.hasClass("ec-change-img");function t(e){var t,a,i=e.find("a"),o=e.closest(".ec-product-inner").find(".ec-pro-image");i.hasClass("loaded")||o.addClass("pro-loading"),e.find("a").addClass("loaded");e.addClass("active").siblings().removeClass("active"),s&&(t=(e=(i=e).find(".ec-opt-clr-img")).attr("data-src"),e=e.attr("data-src-hover")||!1,a=(i=i.closest(".ec-product-inner").find(".ec-pro-image")).find(".image img.main-image"),i=i.find(".image img.hover-image"),console.log(t.length),t.length&&a.attr("src",t),t.length&&(a=i.closest("img.hover-image"),i.attr("src",e),a.hasClass("disable"))&&a.removeClass("disable"),!1===e)&&i.closest("img.hover-image").addClass("disable"),setTimeout(function(){o.removeClass("pro-loading")},1e3)}e.on("mouseenter","li",function(){t(f(this))}),e.on("click","li",function(){t(f(this))})})}f(window).on("load",function(){t(e)}),f(document).ready(function(){t(e)}),f(".ec-opt-size").each(function(){function e(e){var t=e.find("a").attr("data-old"),a=e.find("a").attr("data-new"),i=e.closest(".ec-pro-content").find(".old-price"),o=e.closest(".ec-pro-content").find(".new-price");i.text(t),o.text(a),e.addClass("active").siblings().removeClass("active")}f(document).on("mouseenter","li",function(){e(f(this))}),f(document).on("click","li",function(){e(f(this))})}),f(document).ready(function(){f(".ec-sidebar-block.ec-sidebar-block-clr li").click(function(){f(this).addClass("active").siblings().removeClass("active")})});const i=document.getElementById("ec-sliderPrice");if(i){var o=parseInt(i.dataset.min),s=parseInt(i.dataset.max),c=parseInt(i.dataset.step);const h=document.querySelectorAll("input.filter__input");noUiSlider.create(i,{start:[o,s],connect:!0,step:c,range:{min:o,max:s},format:{to:e=>e,from:e=>e}}),i.noUiSlider.on("update",(e,t)=>{h[t].value=e[t]}),i.noUiSlider.on("change",e=>{var t=parseInt(e[0]),e=parseInt(e[1]);i.setAttribute("data-min",t),i.setAttribute("data-max",e)}),h.forEach((e,t)=>{e.addEventListener("change",()=>{i.noUiSlider.setHandle(t,e.value)})})}function a(){f(".qty-product-cover").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:".qty-nav-thumb"}),f(".qty-nav-thumb").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".qty-product-cover",dots:!1,arrows:!0,focusOnSelect:!0,responsive:[{breakpoint:479,settings:{slidesToScroll:1,slidesToShow:2}}]})}function n(){var e=f(".ec-pro-color, .ec-product-tab, .shop-pro-inner, .ec-new-product, .ec-releted-product, .ec-checkout-pro").find(".ec-opt-swatch");function t(e){e.each(function(){var e=f(this),s=e.hasClass("ec-change-img");function t(e){var t,a,i=e.find("a"),o=e.closest(".ec-product-inner").find(".ec-pro-image");i.hasClass("loaded")||o.addClass("pro-loading"),e.find("a").addClass("loaded");e.addClass("active").siblings().removeClass("active"),s&&(t=(e=(i=e).find(".ec-opt-clr-img")).attr("data-src"),e=e.attr("data-src-hover")||!1,a=(i=i.closest(".ec-product-inner").find(".ec-pro-image")).find(".image img.main-image"),i=i.find(".image img.hover-image"),console.log(t.length),t.length&&a.attr("src",t),t.length&&(a=i.closest("img.hover-image"),i.attr("src",e),a.hasClass("disable"))&&a.removeClass("disable"),!1===e)&&i.closest("img.hover-image").addClass("disable"),setTimeout(function(){o.removeClass("pro-loading")},1e3)}e.on("mouseenter","li",function(){t(f(this))}),e.on("click","li",function(){t(f(this))})})}f(window).on("load",function(){t(e)}),f(document).ready(function(){t(e)})}f(document).ready(function(){f(document).on("click",".ec-sb-block-content .ec-ship-title",function(){f(".ec-sb-block-content .ec-cart-form").slideToggle("slow")})}),f(document).ready(function(){f(document).on("click",".ec-btn-group.wishlist",function(){var e=f(this).hasClass("active"),t=f(this).closest(".ec-pro-actions"),a=parseInt(f(".ec-header-wishlist .ec-header-count").first().text());e?f.ajax({beforeSend:e=>{e.setRequestHeader("X-WP-nonce",harmoniedata.nonce)},url:harmoniedata.root_url+"/wp-json/ecommerce/v1/wishlist/",data:{wish_id:f(this).attr("data-wishid")},type:"DELETE",success:e=>{f(this).removeClass("active"),--a,f(".ec-header-wishlist .ec-header-count").text(a),f(".ec-nav-panel-icons .wishlist-res").text(a),console.log(e)},error:e=>{console.log(e)}}):f.ajax({beforeSend:e=>{e.setRequestHeader("X-WP-nonce",harmoniedata.nonce)},url:harmoniedata.root_url+"/wp-json/ecommerce/v1/wishlist/",data:{product_id:t.attr("data-id")},type:"POST",success:e=>{f(this).addClass("active"),f(this).attr("data-wishid",e),a+=1,f(".ec-header-wishlist .ec-header-count").text(a),f(".ec-nav-panel-icons .wishlist-res").text(a),console.log(e)},error:e=>{"limits reached"==e.responseText?(f(".myAlert-top").html("Vous avez atteint la limite de produits."),f(".myAlert-top").show(),setTimeout(function(){f(".myAlert-top").hide()},2e3)):"user not loged in"==e.responseText&&(f(".myAlert-top").html('Vous n êtes pas connecté. <a href=" '+harmoniedata.root_url+'/login" class="alert-link">Se connecter</a>'),f(".myAlert-top").show(),setTimeout(function(){f(".myAlert-top").hide()},7e3)),console.log(e)}}),f("#wishlist_toast").addClass("show"),setTimeout(function(){f("#wishlist_toast").removeClass("show")},3e3)})}),f(document).ready(function(){f(".ec-pro-image").append("<div class='ec-pro-loader'></div>")});var r="",l="",d=(f(".ec-sidebar-block-item.item-category input").on("click",function(){f(".item-category input").prop("checked",!1),f(this).prop("checked",!0),r=f(this).siblings("a").data("id")}),f(".ec-sidebar-block-item.item-size input").on("click",function(){f(".item-size input").not(this).prop("checked",!1),l=f(this).prop("checked")?f(this).siblings("a").data("sid"):""}),""),c=(f(".ec-sidebar-block-item.item-color span").on("click",function(){d=f(this).data("colorid")}),f("#ec-sliderPrice")[0]);let p=0,u=250;o=new MutationObserver(e=>{for(const a of e){var t;"attributes"===a.type&&("data-min"===a.attributeName?(t=a.target.dataset.min,p=t):"data-max"===a.attributeName&&(t=a.target.dataset.max,u=t))}});c&&o.observe(c,{attributes:!0});s=(s="s").replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var m=null===(s=new RegExp("[\\?&]"+s+"=([^&#]*)").exec(location.search))?"":decodeURIComponent(s[1].replace(/\+/g," "));f(".ec-sidebar-block-item input, .ec-sidebar-block-item span, .ec-price-input .filter-btn").on("click",function(){f(".ec-pro-pagination").hide();var t=f(".filter-product-spinner");""==r&&""==l&&""==d&&""==p&&""==u&&f(".ec-pro-pagination").show(),f(".products-rows-items").empty(),t.show(),f.ajax({type:"POST",url:harmoniedata.root_url+"/wp-admin/admin-ajax.php",dataType:"html",data:{action:"filter_projects",id:r,sizeid:l,colorid:d,pricemax:u,pricemin:p,search:m},success:function(e){f(".products-rows-items").html(e),t.hide(),a(),f(".ec-opt-size").each(function(){function e(e){var t=e.find("a").attr("data-old"),a=e.find("a").attr("data-new"),i=e.closest(".ec-pro-content").find(".old-price"),o=e.closest(".ec-pro-content").find(".new-price");i.text(t),o.text(a),e.addClass("active").siblings().removeClass("active")}f(document).on("mouseenter","li",function(){e(f(this))}),f(document).on("click","li",function(){e(f(this))})}),n()}})}),f("body").on("click",".modal-add-to-cart",function(){var i="",e=f(this),t=e.closest(".row").find(".qty-product-cover").find(".img-responsive").eq(0).attr("src"),i=t||e.closest(".row").find(".qty-product-cover").find(".img-responsive").attr("src"),o=e.closest(".quickview-pro-content").find(".ec-quick-title").children("a").html(),s=e.closest(".quickview-pro-content").find(".ec-quickview-price").children(".new-price").html(),c=e.closest(".ec-quickview-qty").find(".qty-plus-minus input").val();"simple"==e.data("type")&&f.ajax({url:harmoniedata.root_url+"/wp-json/cocart/v2/cart/add-item",data:{id:e.data("id"),quantity:c},type:"POST",success:e=>{var t,a=e.items[e.items.length-1].item_key;a=a,f(".ec-cart-float").fadeIn(),t=f(".cart-count-lable").html(),t++,f(".cart-count-lable").html(t),f(".emp-cart-msg").parent().remove(),setTimeout(function(){f(".ec-cart-float").fadeOut()},5e3),t='<li><a href="product-left-sidebar.html" class="sidekka_pro_img"><img src="'+i+'" alt="product"></a><div class="ec-pro-content"><a href="product-left-sidebar.html" class="cart_pro_title">'+o+'</a><span class="cart-price"><span>'+s+'</span> x <p class="qty" style="display: inline-flex;">'+c+'</p></span><div class="qty-plus-minus"><div class="dec ec_qtybtn">-</div><input class="qty-input" type="text" name="ec_qtybtn" value="'+c+'"><div class="inc ec_qtybtn">+</div></div><a href="javascript:void(0)" class="remove" data-key="'+a+'">×</a></div></li>',f(".eccart-pro-items").append(t),a=f(".cart-sub-total .primary-color").text(),t=(parseFloat(a.split(" ")[0])+parseFloat(s))*parseFloat(c),f(".cart-sub-total .primary-color").text(t.toFixed(2)+" MAD"),console.log(e)},error:e=>{console.log(e)}})})})}();